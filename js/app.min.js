(()=>{"use strict";const e=()=>{!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()},t=e=>{function t(e){let t="+7 (___) ___ __ __",n=0,o=t.replace(/\D/g,""),a=this.value.replace(/\D/g,"");o.length>=a.length&&(a=o),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<a.length?a.charAt(n++):n>=a.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)}))},n=e=>{const t=document.querySelectorAll(e);let n;for(n=0;n<t.length;n++)t[n].addEventListener("click",(function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}))},o=()=>{document.querySelectorAll('[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();let t=document.documentElement.scrollTop,n=this.hash,o=document.querySelector(n).getBoundingClientRect().top,a=null;requestAnimationFrame((function e(c){null===a&&(a=c);let i=c-a,l=o<0?Math.max(t-i/.1,t+o):Math.min(t+i/.1,t+o);document.documentElement.scrollTo(0,l),l!=t+o?requestAnimationFrame(e):location.hash=n}))}))}))};window.addEventListener("DOMContentLoaded",(()=>{e(),(()=>{const e={Android:function(){return navigator.userAgent.match(/Android/i)},Blackberry:function(){return navigator.userAgent.match(/Blackberry/i)},iOS:function(){return navigator.userAgent.match(/iOS|Ipad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.Blackberry()||e.iOS()||e.Opera()||e.Windows()}};if(e.any()){document.body.classList.add("_touch");let e=document.querySelectorAll(".menu__arrow");if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(()=>{n.parentElement.classList.toggle("_active")}))}}else document.body.classList.add("_pc");const t=document.querySelector(".menu__icon"),n=document.querySelector(".menu__body");t&&t.addEventListener("click",(()=>{document.body.classList.toggle("_lock"),t.classList.toggle("_active"),n.classList.toggle("_active")}));const o=document.querySelectorAll(".menu__link[data-goto]");function a(e){const o=e.target;if(o.dataset.goto&&document.querySelector(o.dataset.goto)){const a=document.querySelector(o.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;t.classList.contains("_active")&&(document.body.classList.remove("_lock"),t.classList.remove("_active"),n.classList.remove("_active")),window.scrollTo({top:a,behavior:"smooth"}),e.preventDefault()}}o.length>0&&o.forEach((e=>{e.addEventListener("click",a)})),window.addEventListener("scroll",(function(){const e=document.querySelector("header");window.scrollY>=1?e.classList.add("fixed__nav"):e.classList.remove("fixed__nav")}))})(),(()=>{const e=document.querySelectorAll("form"),t=document.querySelectorAll("input");e.forEach((e=>{e.addEventListener("submit",(n=>{n.preventDefault();let o=document.createElement("div");o.classList.add("status"),e.parentNode.appendChild(o),e.classList.add("animated","fadeOutUp"),setTimeout((()=>{e.style.display="none"}),400);let a=document.createElement("img");a.setAttribute("src","img/icon/spinner.gif"),a.classList.add("animated","fadeInUp"),a.style.display="block",a.style.margin="0 auto",o.appendChild(a);let c=document.createElement("div");c.textContent="Загрузка...",o.appendChild(c),(async(e,t)=>{let n=await fetch("telegram.php",{method:"POST",body:t});return await n.text()})(0,new FormData(e)).then((e=>{a.setAttribute("src","img/icon/ok.svg"),c.style.marginTop="30px",c.textContent="Спасибо! Скоро мы с вами свяжемся"})).catch((()=>{a.setAttribute("src","img/icon/fail.png"),c.textContent="Что-то пошло не так..."})).finally((()=>{t.forEach((e=>{e.value=""})),setTimeout((()=>{o.remove(),e.style.display="grid",e.classList.remove("fadeOutUp"),e.classList.add("fadeInUp")}),3e3)}))}))}))})(),t('[name="phone"]'),n(".accordion__heading"),o(),document.querySelector(".pulse-button").addEventListener("click",(()=>{open("https://wa.me/77024588753")}))}))})();