(()=>{"use strict";const e=()=>{!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()},t=e=>{function t(e){let t="+7 (___) ___ __ __",n=0,a=t.replace(/\D/g,""),o=this.value.replace(/\D/g,"");a.length>=o.length&&(o=a),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<o.length?o.charAt(n++):n>=o.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)}))},n=e=>{const t=document.querySelectorAll(e);let n;for(n=0;n<t.length;n++)t[n].addEventListener("click",(function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}))};window.addEventListener("DOMContentLoaded",(()=>{e(),(()=>{const e={Android:function(){return navigator.userAgent.match(/Android/i)},Blackberry:function(){return navigator.userAgent.match(/Blackberry/i)},iOS:function(){return navigator.userAgent.match(/iOS|Ipad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.Blackberry()||e.iOS()||e.Opera()||e.Windows()}};if(e.any()){document.body.classList.add("_touch");let e=document.querySelectorAll(".menu__arrow");if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(()=>{n.parentElement.classList.toggle("_active")}))}}else document.body.classList.add("_pc");const t=document.querySelector(".menu__icon"),n=document.querySelector(".menu__body");t&&t.addEventListener("click",(()=>{document.body.classList.toggle("_lock"),t.classList.toggle("_active"),n.classList.toggle("_active")}));const a=document.querySelectorAll(".menu__link[data-goto]");function o(e){const a=e.target;if(a.dataset.goto&&document.querySelector(a.dataset.goto)){const o=document.querySelector(a.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;t.classList.contains("_active")&&(document.body.classList.remove("_lock"),t.classList.remove("_active"),n.classList.remove("_active")),window.scrollTo({top:o,behavior:"smooth"}),e.preventDefault()}}a.length>0&&a.forEach((e=>{e.addEventListener("click",o)})),window.addEventListener("scroll",(function(){const e=document.querySelector("header");window.scrollY>=1?e.classList.add("fixed__nav"):e.classList.remove("fixed__nav")}))})(),(()=>{const e=document.querySelectorAll("form"),t=document.querySelectorAll("input");e.forEach((e=>{e.addEventListener("submit",(n=>{n.preventDefault();let a=document.createElement("div");a.classList.add("status"),e.parentNode.appendChild(a),e.classList.add("animated","fadeOutUp"),setTimeout((()=>{e.style.display="none"}),400);let o=document.createElement("img");o.setAttribute("src","img/icon/spinner.gif"),o.classList.add("animated","fadeInUp"),o.style.display="block",o.style.margin="0 auto",a.appendChild(o);let i=document.createElement("div");i.textContent="Загрузка...",a.appendChild(i),(async(e,t)=>{let n=await fetch("telegram.php",{method:"POST",body:t});return await n.text()})(0,new FormData(e)).then((e=>{o.setAttribute("src","img/icon/ok.svg"),i.style.marginTop="30px",i.textContent="Спасибо! Скоро мы с вами свяжемся"})).catch((()=>{o.setAttribute("src","img/icon/fail.png"),i.textContent="Что-то пошло не так..."})).finally((()=>{t.forEach((e=>{e.value=""})),setTimeout((()=>{a.remove(),e.style.display="grid",e.classList.remove("fadeOutUp"),e.classList.add("fadeInUp")}),3e3)}))}))}))})(),t('[name="phone"]'),n(".accordion__heading")}))})();